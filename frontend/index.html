<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Task Analyzer</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/luxon@3.0.0/build/global/luxon.min.js"></script>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <h1>ğŸš€ Smart Task Analyzer</h1>
            <p>Intelligently prioritize your tasks using AI-powered scoring</p>
        </header>

        <!-- Main Dashboard -->
        <div class="dashboard">
            <!-- Input Section -->
            <div class="card input-section">
                <h2>ğŸ“‹ Task Input</h2>
                
                <!-- Single Task Form -->
                <div class="form-group">
                    <h3>Add Single Task</h3>
                    <form id="singleTaskForm">
                        <div class="form-row">
                            <input type="text" id="taskTitle" placeholder="Task title" required>
                            <input type="date" id="taskDueDate" required>
                        </div>
                        <div class="form-row">
                            <input type="number" id="taskHours" placeholder="Estimated hours" min="0.5" step="0.5" required>
                            <input type="number" id="taskImportance" placeholder="Importance (1-10)" min="1" max="10" required>
                        </div>
                        <input type="text" id="taskDependencies" placeholder="Dependencies (comma-separated IDs)">
                        <button type="submit" class="blue-btn">Add Task</button>

                    </form>
                </div>

                <!-- Bulk Input -->
                <div class="form-group">
                    <h3>Bulk Input (JSON)</h3>
                    <textarea id="bulkInput" placeholder='Paste JSON array of tasks. Example:
[
  {
    "title": "Fix login bug",
    "due_date": "2025-11-30", 
    "estimated_hours": 3,
    "importance": 8,
    "dependencies": []
  }
]'></textarea>
                </div>

                <!-- Strategy Selection -->
                <div class="form-group">
                    <h3>ğŸ“Š Sorting Strategy</h3>
                    <div class="strategy-buttons">
                        <button class="strategy-btn active" data-strategy="smart_balance">Smart Balance</button>
                        <button class="strategy-btn" data-strategy="fastest_wins">Fastest Wins</button>
                        <button class="strategy-btn" data-strategy="high_impact">High Impact</button>
                        <button class="strategy-btn" data-strategy="deadline_driven">Deadline Driven</button>
                    </div>
                </div>

                <!-- Action Buttons -->
                <div class="action-buttons">
                    <button id="analyzeBtn" class="btn-primary">ğŸ¯ Analyze Tasks</button>
                    <button id="suggestBtn" class="btn-secondary">ğŸ’¡ Get Suggestions</button>
                    <button id="clearBtn" class="btn-danger">ğŸ—‘ï¸ Clear All</button>
                </div>
            </div>

            <!-- Current Tasks -->
            <div class="card current-tasks">
                <h2>ğŸ“ Current Tasks</h2>
                <div id="taskList" class="task-list">
                    <p class="empty-state">No tasks added yet. Add tasks using the form or bulk input.</p>
                </div>
            </div>

            <!-- Results Section -->
            <div class="card results-section" id="resultsSection" style="display: none;">
                <h2>ğŸ“ˆ Analysis Results</h2>
                
                <!-- Circular Dependencies Warning -->
                <div id="circularDepsWarning" class="warning-banner" style="display: none;">
                    <span>âš ï¸ Circular dependencies detected!</span>
                    <div id="circularDepsList"></div>
                </div>

                <!-- Priority Scores -->
                <div class="results-grid">
                    <div class="priority-list">
                        <h3>ğŸ¯ Priority Ranking</h3>
                        <div id="priorityRanking"></div>
                    </div>

                    <!-- Score Distribution Chart -->
                    <div class="chart-container">
                        <h3>ğŸ“Š Score Distribution</h3>
                        <canvas id="scoreChart"></canvas>
                    </div>
                </div>

                <!-- Eisenhower Matrix -->
                <div class="eisenhower-section">
                    <h3>ğŸ¯ Eisenhower Matrix</h3>
                    <div class="eisenhower-grid">
                        <div class="quadrant quadrant-1" data-quadrant="q1">
                            <h4>Do First</h4>
                            <p>Urgent & Important</p>
                            <div class="tasks-container" id="q1-tasks"></div>
                        </div>
                        <div class="quadrant quadrant-2" data-quadrant="q2">
                            <h4>Schedule</h4>
                            <p>Not Urgent & Important</p>
                            <div class="tasks-container" id="q2-tasks"></div>
                        </div>
                        <div class="quadrant quadrant-3" data-quadrant="q3">
                            <h4>Delegate</h4>
                            <p>Urgent & Not Important</p>
                            <div class="tasks-container" id="q3-tasks"></div>
                        </div>
                        <div class="quadrant quadrant-4" data-quadrant="q4">
                            <h4>Don't Do</h4>
                            <p>Not Urgent & Not Important</p>
                            <div class="tasks-container" id="q4-tasks"></div>
                        </div>
                    </div>
                </div>

                <!-- Suggestions -->
                <div class="suggestions-section" id="suggestionsSection" style="display: none;margin-bottom:3px;margin-top: 20px;">
                    <h3 style="margin-top: 10px;">ğŸ’¡ Top 3 Suggestions</h3>
                    <div id="suggestionsList" class="suggestions-list"></div>
                </div>

                <!-- Dependency Graph -->
                <div class="dependency-section">
                    <h3>ğŸ•¸ï¸ Dependency Graph</h3>
                    <div id="dependencyGraph" class="dependency-graph">
                        <p>Dependency visualization will appear here after analysis</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Loading Overlay -->
        <div id="loadingOverlay" class="loading-overlay" style="display: none;">
            <div class="loading-spinner"></div>
            <p>Analyzing your tasks...</p>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>